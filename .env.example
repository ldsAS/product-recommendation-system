# 環境變數範例文件
# 複製此文件為 .env 並填入實際值

# ============================================================================
# 應用配置
# ============================================================================
APP_ENV=production
APP_DEBUG=false
APP_LOG_LEVEL=INFO

# ============================================================================
# 資料庫配置
# ============================================================================
# 主資料庫
DB_HOST=localhost
DB_PORT=5432
DB_NAME=recommendation_db
DB_USER=postgres
DB_PASSWORD=your-secure-password

# 只讀副本（可選）
DB_REPLICA_HOST=localhost
DB_REPLICA_PORT=5432

# ============================================================================
# Redis 配置
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# ============================================================================
# 告警配置
# ============================================================================
# Email 告警
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
ALERT_FROM_EMAIL=alerts@your-domain.com
ALERT_TO_EMAIL_1=team@your-domain.com
ALERT_TO_EMAIL_2=admin@your-domain.com

# Slack 告警
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#recommendations-alerts

# ============================================================================
# 安全配置
# ============================================================================
# API Keys（使用強密碼生成器生成）
API_KEY_1=your-api-key-1-min-32-characters-long
API_KEY_2=your-api-key-2-min-32-characters-long

# JWT Secret（如果使用 JWT 認證）
JWT_SECRET=your-jwt-secret-key-min-32-characters

# ============================================================================
# 監控配置
# ============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana（可選）
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=your-grafana-api-key

# ============================================================================
# 第三方服務配置
# ============================================================================
# AWS S3（用於模型和備份存儲）
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name

# ============================================================================
# 功能開關
# ============================================================================
FEATURE_ENHANCED_RECOMMENDATION=true
FEATURE_QUALITY_MONITORING=true
FEATURE_PERFORMANCE_TRACKING=true
FEATURE_AUTO_DEGRADATION=true
FEATURE_AB_TESTING=true
FEATURE_REAL_TIME_DASHBOARD=true

# ============================================================================
# 性能配置
# ============================================================================
# 伺服器
SERVER_WORKERS=4
SERVER_TIMEOUT=60
SERVER_KEEPALIVE=5

# 連接池
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
REDIS_MAX_CONNECTIONS=50

# 快取
CACHE_DEFAULT_TTL=3600
CACHE_MEMBER_FEATURES_TTL=1800
CACHE_PRODUCT_INFO_TTL=3600

# ============================================================================
# 備份配置
# ============================================================================
BACKUP_ENABLED=true
BACKUP_PATH=/backups
BACKUP_RETENTION_DAYS=30

# ============================================================================
# 日誌配置
# ============================================================================
LOG_PATH=logs
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=10
LOG_FORMAT=json

# ============================================================================
# 開發環境專用（生產環境請移除或設為 false）
# ============================================================================
# 開發模式
DEV_MODE=false
DEV_RELOAD=false

# 測試資料庫
TEST_DB_HOST=localhost
TEST_DB_NAME=recommendation_test_db
TEST_DB_USER=postgres
TEST_DB_PASSWORD=test-password

# ============================================================================
# 注意事項
# ============================================================================
# 1. 請勿將 .env 文件提交到版本控制系統
# 2. 使用強密碼和隨機生成的 API Keys
# 3. 定期更換密碼和密鑰
# 4. 生產環境請使用環境變數管理工具（如 AWS Secrets Manager）
# 5. 確保所有敏感資訊都已加密存儲
